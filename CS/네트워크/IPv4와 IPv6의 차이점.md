## IPv4와 IPv6의 차이점

IPv4와 IPv6는 인터넷 프로토콜(IP) 주소 지정 시스템의 두가지 버전이다.

<aside>
✅ `IP`
인터넷을 통한 데이터 교환을 제공하는 일련의 통신 규칙

</aside>

인터넷의 핵심은 네트워킹 기술을 통해 서로 데이터를 공유하는 수십업 개의 디바이스의 집합체이다.
IP는 `넘버링 시스템`을 사용하여 연결된 모든 디바이스에 고유한 식별 번호 또는 주소를 부여한다.

IPv4는 32비트 주소 형식을 사용하며 40억 개 이상의 주소 공간을 수용할 수 있다.
하지만 인터넷 및 사물 인터넷(IoT) 시스템의 확장으로 인해 IPv4의 주소 지정 범위가 충분하지 않게 되었고, 128비트 주소 형식을 사용하고 1x10^36개 이상의 주소를 수용할 수 있는 IPv6로 대체되고 있다.

## IPv4와 IPv6의 유사점

IPv4와 IPv6의 주요 기능은 기반 네트워킹 인프라와 관계없이 인터넷을 통해 올바른 다바이스로 라우팅되는 데이터를 보내고 받는 것이다.

`라우팅` 또는 `패킷 흐름 식별`은 모든 인터넷 통신의 기본 기술이다.

<br/>

### 지정된 명명 시스템

세계 각국마다 고유한 이름이 있는 것처럼, IPv4와 IPv6도 인터넷에 있는 모든 디바이스의 이름을 고유하게 지정하거나 식별할 수 있도록 설계되었다. 이러한 디바이스에는 컴퓨터, 휴대폰, IoT 네트워크 디바이스가 포함된다.

<br />

### 코어 프로토콜

IPv4와 IPv6는 모두 `Transmission Control Protocol/Internet Protocal(TCP/IP)` 프로토콜에 속한다.

이 프로토콜은 1980년대 초반부터 `인터넷의 표준 운영 프레임워크`에 적용되고 있다. TCP/IP에는 User Datagram Protocol(UDP)도 포함되어 있다. IP 버전 4라는 이름에도 불구하고 IPv4는 최초의 인터넷 프로토콜이었다. 마찬가지로, IPv6는 1995년에 처음 지정되었지만, 2017년이 되어서야 인터넷 표준이나 TCP/IP의 일부로 공개되었다.

<br/>

### 비연결 데이터 전송

IPv4, IPv6는 `다중 패킷 라우팅`을 사용하여 데이터를 작은 블록으로 분할한 후 인터넷을 통해 전송하는 비연결 프로토콜이다. IPv4와 IPv6는 각 패킷이 사용하는 경로를 결정한다.

즉, 동일한 데이터 패킷이 서로 다른 인터넷 트래픽 경로를 사용하여 인터넷을 통해 전송될 수 있다.
그리고 수신 디바이스에서 패킷이 올바른 순서로 재구성된다.
이 작업은 OSI 모델의 전송 계층에서 TCP 또는 UDP에 의해 수행된다.

<br/>

## IPv4와 IPv6의 비교

### 주소 공간

IPv4의 전체 주소 공간은 2^32개의 IP 주소 공간을 가진다. IPv6는 2^128개의 주소 공간을 가진다.

IPv4 인터넷 주소는 2011년에 고갈되었다. IPv6에 많은 수의 IP 주소가 있지만 전체적으로 주소 공간이 훨씬 더 넓기 때문에 현재 추정치로 볼 때 주소 공간이 고갈될 가능성은 없다.

<br />

### 명명

IPv4에서 주소 이름은 4개의 10진수로 이루어진 숫자 주소(0~255)로 표시되며, 각 숫자는 8비트를 나타내고 세 개의 마침표로 구분된다.

`197.0.0.1`

IPv6에서 주소 이름은 숫자(0~9)와 문자(A~F)로 구성된 8개의 16진수로 표시되며, 각 숫자는 4비트를 나타내고 콜론으로 구분된다.

_`2600:1400:d:5a3::3bd4`_

그룹내에 있는 여러 개의 0을 빈 콜론 블록으로 압축할 수 있다.

<br />

### 커뮤니케이션 유형

`통신 효율성`을 개선하기 위해 IPv4, IPv6는 모두 다양한 주소 지정 유형을 지원하므로, 한 디바이스가 네트워크의 여러 디바이스와 동시에 통신할 수 있다.

IPv4는 다중 패킷 라우팅을 통한 `유니캐스트(1:1)`, `일대 전부(브로드캐스트)`, `멀티캐스트(1:N)` 주소 지정을 지원한다.

IPv6에서는 다중 패킷 라우팅을 통해 `유니캐스트`, `멀티캐스트`, `애니캐스트` 주소 지정을 지원한다.

<aside>
✅ `애니캐스트`
애니캐스트 통신에서 데이터 패킷은 발신자로부터 동일한 애니캐스트 주소를 공유하는 여러 수신자 중 가장 가까운 수신자로 전송된다. ‘가장 가까운 거리’는 대상에 도달하기 위한 최단 경로 또는 최저 비용을 계산하는 `라우팅 프로토콜`에 의해 결정된다.

</aside>

<br />

## IPv6는 IPv4에 비해 어떻게 개선되었나

### 자동 구성

IPv4를 사용하는 경우 IP 주소 할당을 처리하고 네트워크에 연결된 시스템을 식별하려면 `Dynamic Host Configuration Protocol(DHCP)` 서버가 필요하다.

IPv6에는 디바이스 자체가 외부 파티나 프로토콜 없이 자체 주소를 자동 구성할 수 있는 `Stateless Address Autoconfiguration(SLAAC)`가 사용된다.
DHCP가 필요없기 때문에 네트워크 전체 트래픽(IP 주소 할당 트래픽, 시스템 식별 트래픽)도 줄어든다.

<br />

### 경로 계산

IPv6는 IPv4보다 더 효율적으로 인터넷을 통한 라우팅을 지원하는 기능을 제공한다.

<br />
### 보안

IPv6는 IPv4보다 프로토콜의 보안이 더 강화되었다. 여기에는 기본적으로 `인터넷 프로토콜 보안(IPsec)`, `프라이버시 확장`을 포함하는 기능을 포함한다.
