## index

추가적인 쓰기 작업과 저장 공간을 활용하여 데이터베이스의 테이블 검색 속도를 향상시키기 위한 자료구조이다.

인덱스를 사용하면 테이블을 조회하는 속도와 그에 따른 성능을 향상시킬 수 있으며 전반적인 시스템의 부하를 줄일 수 있다.

하지만 인덱스를 관리하기 위해 추가적인 저장공간이 필요하다.

또한 인덱스를 잘못 사용할 경우 오히려 성능이 저하되는 역효과가 발생할 수 있다.

<br />

## 어떤 특징을 가지는 column에 사용하면 좋을까

- 데이터 수정 빈도가 낮을 수록 적합하다.
  insert/update/delete 작업 시, 데이터에 변화가 생기기 때문에 index에서는 매번 정렬을 다시 해야한다. 이에 따른 부하가 발생하기 때문에 수정 빈도가 낮은 column을 Index로 설정하면 좋다.
- SELECT WHERE 절에 자주 사용되는 column에 대해 index를 생성하는 것이 좋다.
- 데이터의 중복이 높은 column은 index 효과가 별로 없다. 예를 들어 종류가 2가지 밖에 없으므로 index를 생성하지 않는 것이 좋다.
  즉, 선택도가 낮을 때 유리하다.
- 데이터의 양이 많을 수록 index로 인한 성능향상이 더 크다. 데이터 양이 적다면 index의 혜택보단 손해가 더 클 수 있다.

<br />

### index를 어느 column에 사용하면 좋을까요?

index는 where절에서 자주 조회되고, 수정 빈도가 낮으며 카디널리티는 높고 선택도가 낮은 column을 선택해서 설정하는 것이 가장 좋다.

> 선택도
> 데이터에서 특정 값을 잘 골라낼 수 있는 정도

카디널리티
데이터가 중복되지 않는 정도

>

<br />

### index를 쓰면 성능이 좋아지니까 모든 컬럼에 인덱스를 사용하면 성능이 더 좋겠네요?

일단 index는 SELECT WHERE절에 대해서만 성능향상을 해준다.

이외에 데이터를 수정하게 되면 모든 index를 업데이트(+정렬)해야 하기 때문에 오히려 성능저하를 초래한다. 또한 index를 생성할 때마다 저장공간도 차지하기 때문에 무분별하게 생성해서는 안된다.

<br />

### true 또는 false 값을 갖는 column에서, true 1%, false 99%의 비율로 구성된 상황에서는 index를 거는게 좋을까요?

아무리 1%, 99%로 비율에 차이가 있어도, true/false 두 종류로만 나눠지는 경우에는 카디널리티가 매우 낮게 된다.

이 경우 index가 주는 이점이 매우 적고 오히려 저장공간 차지와 데이터 수정 시 성능저하 등을 고려하여 index를 생성하지 않는 것이 좋다.

Reference
[[DB] Index를 어느 Column에 사용하면 좋을까?](https://velog.io/@cis07385/DB-Index를-어느-Column에-사용하면-좋을까)
