## 조인(join)

여러 테이블을 합쳐 원하는 데이터를 얻는 작업

테이블을 하나로 합치려면 공통된 열을 이용한다.

- 내부 조인
- 외부 조인 [왼쪽 외부 조인, 오른쪽 외부 조인, 완전 외부 조인]

<br/>

### SQL 연산자

- `ON`
  조인 연산에 대한 조건절을 작성할 때 사용하는 연산자로 각 테이블에서 어떠한 속성을 사용해 연산을 수행할지 나타낸다.
- `USING`
  조인 연산을 하려는 테이블에서 속성명이 동일할 때 USING 연산자 뒤에 공통되는 속성명만 작성해 조건을 간단하게 적을 수 있다.
- `WHERE`
  테이블에서 원하는 데이터를 조회하기 위한 조건절을 작성할 때 사용하는 연산자
  조건절에 비교 연산자, IN 연산자, BETWEEN 연산자 등을 사용해 원하는 데이터를 얻을 수 있다.
- `IN`
  WHERE 절과 함께 사용하며, IN 연산자 뒤에 나오는 조건에 하나라도 해당하는 값을 검색할 수 있다.
- `BETWEEN`
  특정 범위에 속하는 데이터를 조회할 때 사용하는 연산자
- `LIKE`
  특정 데이터를 조회할 때 사용하는 연산자로 % 또는 \_와 함께 사용한다.

<br />

## 내부 조인 (INNER JOIN)

2개 이상의 테이블에서 공통 속성을 가진 데이터를 검색하기 위한 연산

학생 전공 테이블

| 학번       | 이름   | 전공       |
| ---------- | ------ | ---------- |
| 2019128242 | 김혜진 | 컴퓨터공학 |
| 2019129349 | 신수림 | 전자공학   |
| 2019000567 | 이유연 | 국어국문   |
| 2019127100 | 임연진 | 기계공학   |

학생 동아리 테이블

| 학번       | 동아리     |
| ---------- | ---------- |
| 2019128242 | 오케스트라 |
| 2019129349 | 독서       |
| 2019127100 | 판소리     |

학생별 가입 동아리를 확인하고 싶다면 두 테이블로 조인 연산을 수행한다.

이때 두 테이블에서 공통되는 열인 학번을 이용해 연산을 수행하면 된다.

```sql
SELECT *
FROM 학생 전공 테이블 INNER JOIN 학생 동아리 테이블
ON 학생 전공 테이블.학번 = 학생 동아리 테이블.학번
```

- `명시적 조인 표현`
  위에서처럼 JOIN 연산자 뒤에 조인할 테이블을 명시적으로 표현하는 방법
- `암시적 조인 표현`
  다음 형식처럼 JOIN 연산자를 명시하지 않고 FROM 절 뒤에 조인할 테이블만 나열하는 방법
  `sql
    SELECT [얻으려는 열]
    FROM [테이블1], [테이블2]
    ON [조인에 대한 조건]
    `

<br />

## 외부 조인 (OUTER JOIN)

테이블에서 조인 조건에 해당하는 속성 값이 없는 데이터까지 모두 조회하는 연산

이때 존재하지 않는 데이터에 대해서는 `NULL`로 표기한다.

- 왼쪽 외부 조인 [`LEFT OUTER JOIN`]
  연산자 왼쪽 테이블의 모든 데이터를 결과 테이블에 조회한다.
- 오른쪽 외부 조인 [`RIGHT OUTER JOIN`]
  연산자 오른쪽 테이블의 모든 데이터를 결과 테이블에 조회한다.
- 완전 외부 조인 [`FULL OUTER JOIN`]
  양쪽 테이블에서 조건을 만족하지 않는 데이터가 있더라도 모두 포함해 결과 테이블에 조회한다.

왼쪽 외부 조인

```sql
SELECT *
FROM 학생 전공 테이블 LEFT OUTER JOIN 학생 동아리 테이블
ON 학생 전공 테이블.학번 = 학생 동아리 테이블.학번
```

| 학번       | 이름   | 전공       | 동아리     |
| ---------- | ------ | ---------- | ---------- |
| 2019128242 | 김혜진 | 컴퓨터공학 | 오케스트라 |
| 2019129349 | 신수림 | 전자공학   | 독서       |
| 2019000567 | 이유연 | 국어국문   | NULL       |
| 2019127100 | 임연진 | 기계공학   | 판소리     |

내부 조인과 달리 왼쪽 외부 조인은 왼쪽 테이블의 모든 튜플을 포함한다.

따라서 오른쪽 테이블에 존재하지 않는 튜플(이유연)도 출력한다.

단, 동아리에 대한 값은 존재하지 않으므로 `NULL`로 표기한다.
